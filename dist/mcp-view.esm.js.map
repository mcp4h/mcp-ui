{
  "version": 3,
  "sources": ["../src/bridge.ts", "../src/iframe-bootstrap.ts", "../src/rewrite.ts", "../src/theme.ts", "../src/mcp-view.ts", "../src/index.ts"],
  "sourcesContent": ["export type ResourceKind = \"document\" | \"style\" | \"script\" | \"img\" | \"media\";\nexport type NormalizedResource = {\n\tok: boolean;\n\tmime: string;\n\tbody: Uint8Array;\n\terror?: string;\n};\nexport async function normalizeResolverResult(result: unknown, kind: ResourceKind, uri: string): Promise<NormalizedResource> {\n\ttry {\n\t\tif (result instanceof Response) {\n\t\t\tif (!result.ok) {\n\t\t\t\treturn {\n\t\t\t\t\tok: false,\n\t\t\t\t\tmime: \"text/plain\",\n\t\t\t\t\tbody: new Uint8Array(),\n\t\t\t\t\terror: `HTTP ${result.status}`\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst body = new Uint8Array(await result.arrayBuffer());\n\t\t\tconst mime = result.headers.get(\"content-type\") || inferMime(kind, uri);\n\t\t\treturn { ok: true, mime, body };\n\t\t}\n\t\tif (result instanceof Blob) {\n\t\t\tconst body = new Uint8Array(await result.arrayBuffer());\n\t\t\tconst mime = result.type || inferMime(kind, uri);\n\t\t\treturn { ok: true, mime, body };\n\t\t}\n\t\tif (typeof result === \"string\") {\n\t\t\tconst encoder = new TextEncoder();\n\t\t\tconst body = encoder.encode(result);\n\t\t\tconst mime = inferMime(kind, uri);\n\t\t\treturn { ok: true, mime, body };\n\t\t}\n\t\tif (result instanceof ArrayBuffer) {\n\t\t\tconst body = new Uint8Array(result);\n\t\t\tconst mime = inferMime(kind, uri);\n\t\t\treturn { ok: true, mime, body };\n\t\t}\n\t\tif (result instanceof Uint8Array) {\n\t\t\tconst mime = inferMime(kind, uri);\n\t\t\treturn { ok: true, mime, body: result };\n\t\t}\n\t}\n\tcatch (error) {\n\t\treturn {\n\t\t\tok: false,\n\t\t\tmime: \"text/plain\",\n\t\t\tbody: new Uint8Array(),\n\t\t\terror: error instanceof Error ? error.message : \"Unknown error\"\n\t\t};\n\t}\n\treturn {\n\t\tok: false,\n\t\tmime: \"text/plain\",\n\t\tbody: new Uint8Array(),\n\t\terror: \"Unsupported resolver result\"\n\t};\n}\nexport function inferMime(kind: ResourceKind, uri: string): string {\n\tif (kind === \"document\") return \"text/html\";\n\tif (kind === \"style\") return \"text/css\";\n\tif (kind === \"script\") return \"text/javascript\";\n\tconst ext = getExtension(uri);\n\tif (ext) {\n\t\tconst lookup: Record<string, string> = {\n\t\t\tcss: \"text/css\",\n\t\t\tjs: \"text/javascript\",\n\t\t\tmjs: \"text/javascript\",\n\t\t\tcjs: \"text/javascript\",\n\t\t\tjson: \"application/json\",\n\t\t\tsvg: \"image/svg+xml\",\n\t\t\tpng: \"image/png\",\n\t\t\tjpg: \"image/jpeg\",\n\t\t\tjpeg: \"image/jpeg\",\n\t\t\tgif: \"image/gif\",\n\t\t\twebp: \"image/webp\",\n\t\t\tavif: \"image/avif\",\n\t\t\twoff: \"font/woff\",\n\t\t\twoff2: \"font/woff2\",\n\t\t\tttf: \"font/ttf\",\n\t\t\totf: \"font/otf\",\n\t\t\tmp3: \"audio/mpeg\",\n\t\t\twav: \"audio/wav\",\n\t\t\tmp4: \"video/mp4\",\n\t\t\twebm: \"video/webm\"\n\t\t};\n\t\tif (lookup[ext]) return lookup[ext];\n\t}\n\tif (kind === \"img\") return \"image/png\";\n\treturn \"application/octet-stream\";\n}\nfunction getExtension(uri: string): string | null {\n\ttry {\n\t\tconst url = new URL(uri);\n\t\tconst path = url.pathname;\n\t\tconst last = path.split(\"/\").pop();\n\t\tif (!last || !last.includes(\".\")) return null;\n\t\treturn last.split(\".\").pop()?.toLowerCase() || null;\n\t}\n\tcatch {\n\t\treturn null;\n\t}\n}\n", "export function getIframeBootstrapScript(initialData: unknown): string {\n\tconst serialized = safeSerialize(initialData);\n\treturn `(() => {\n  const initialData = ${serialized};\n  window.mcpData = initialData;\n  const pending = new Map();\n  const toolPending = new Map();\n  let nextId = 1;\n  let nextToolId = 1;\n  const decoder = new TextDecoder();\n  const deferredScripts = [];\n  let deferredReady = document.readyState !== \"loading\";\n  let deferredListenerAttached = false;\n\n  function sanitizeLayerName(name) {\n    if (!name) return null;\n    const trimmed = String(name).trim();\n    if (!trimmed) return null;\n    if (!/^[a-zA-Z0-9_-]+$/.test(trimmed)) return null;\n    return trimmed;\n  }\n\n  function requestResource(uri, kind) {\n    return new Promise((resolve) => {\n      const id = nextId++;\n      pending.set(id, resolve);\n      window.parent.postMessage({ type: \"mcp:request\", id, uri, kind }, \"*\");\n    });\n  }\n\n  function enqueueDeferredScript(run) {\n    if (!deferredReady && document.readyState !== \"loading\") {\n      deferredReady = true;\n    }\n    deferredScripts.push(run);\n    if (!deferredReady && !deferredListenerAttached) {\n      deferredListenerAttached = true;\n      document.addEventListener(\n        \"DOMContentLoaded\",\n        () => {\n          deferredReady = true;\n          flushDeferredScripts();\n        },\n        { once: true }\n      );\n    }\n    if (deferredReady) {\n      flushDeferredScripts();\n    }\n  }\n\n  function flushDeferredScripts() {\n    while (deferredScripts.length) {\n      const run = deferredScripts.shift();\n      if (typeof run === \"function\") run();\n    }\n  }\n\n  function callTool(params) {\n    return new Promise((resolve, reject) => {\n      const id = nextToolId++;\n      toolPending.set(id, { resolve, reject });\n      window.parent.postMessage({ type: \"mcp:tool-call\", id, params }, \"*\");\n    });\n  }\n\n  window.addEventListener(\"message\", (event) => {\n    if (event.source !== window.parent) return;\n    const data = event.data;\n    if (!data) return;\n    if (data.type === \"mcp:response\") {\n      const resolve = pending.get(data.id);\n      if (!resolve) return;\n      pending.delete(data.id);\n      resolve(data);\n      return;\n    }\n    if (data.type === \"mcp:tool-result\") {\n      const entry = toolPending.get(data.id);\n      if (!entry) return;\n      toolPending.delete(data.id);\n      if (data.ok) {\n        entry.resolve(data.result);\n      } else {\n        const message = data.error || \"Tool call failed\";\n        entry.reject(new Error(message));\n      }\n      return;\n    }\n    if (data.type === \"mcp-data:update\") {\n      window.mcpData = data.payload;\n      window.dispatchEvent(new CustomEvent(\"mcp-data\", { detail: data.payload }));\n    }\n  });\n\n  window.mcp = window.mcp || {};\n  window.mcp.callTool = callTool;\n\n  function toText(body) {\n    const buffer = body || new ArrayBuffer(0);\n    return decoder.decode(new Uint8Array(buffer));\n  }\n\n  function toBlobUrl(body, mime) {\n    const buffer = body || new ArrayBuffer(0);\n    const blob = new Blob([buffer], { type: mime || \"application/octet-stream\" });\n    return URL.createObjectURL(blob);\n  }\n\n  function copyAttributes(from, to, skip) {\n    const skipSet = new Set(skip || []);\n    for (const attr of Array.from(from.attributes)) {\n      if (skipSet.has(attr.name)) continue;\n      to.setAttribute(attr.name, attr.value);\n    }\n  }\n\n  class McpLink extends HTMLElement {\n    connectedCallback() {\n      if (this.hasAttribute(\"data-mcp-blocked\")) return;\n      const href = this.getAttribute(\"href\");\n      if (!href) return;\n      const rel = (this.getAttribute(\"rel\") || \"\").toLowerCase();\n      if (rel && rel !== \"stylesheet\") return;\n      requestResource(href, \"style\").then((res) => {\n        if (!res || !res.ok) return;\n        const style = document.createElement(\"style\");\n        const media = this.getAttribute(\"media\");\n        if (media) style.setAttribute(\"media\", media);\n        const layer = sanitizeLayerName(this.getAttribute(\"layer\")) || \"mcp-content\";\n        style.textContent = \"@layer \" + layer + \" {\\\\n\" + toText(res.body) + \"\\\\n}\";\n        if (this.hasAttribute(\"data-mcp-head\")) {\n          (document.head || document.documentElement).appendChild(style);\n          this.remove();\n          return;\n        }\n        this.replaceWith(style);\n      });\n    }\n  }\n\n  class McpScript extends HTMLElement {\n    connectedCallback() {\n      if (this.hasAttribute(\"data-mcp-blocked\")) {\n        console.error(\"[mcp] script blocked\", this.getAttribute(\"src\"));\n        return;\n      }\n      const src = this.getAttribute(\"src\");\n      if (!src) {\n        console.error(\"[mcp] script missing src\", this);\n        return;\n      }\n      const isDefer = this.hasAttribute(\"defer\");\n      requestResource(src, \"script\").then((res) => {\n        if (!res || !res.ok) {\n          console.error(\"[mcp] script resolve failed\", src, res?.error || \"unknown\");\n          return;\n        }\n        const script = document.createElement(\"script\");\n        const type = this.getAttribute(\"type\");\n        if (type) script.setAttribute(\"type\", type);\n        script.textContent = toText(res.body);\n        console.debug(\"[mcp] script injected\", src);\n        const placeScript = () => {\n          if (this.hasAttribute(\"data-mcp-head\")) {\n            (document.head || document.documentElement).appendChild(script);\n            this.remove();\n            return;\n          }\n          this.replaceWith(script);\n        };\n        if (isDefer) {\n          enqueueDeferredScript(placeScript);\n          return;\n        }\n        placeScript();\n      });\n    }\n  }\n\n  class McpImg extends HTMLElement {\n    connectedCallback() {\n      if (this.hasAttribute(\"data-mcp-blocked\")) return;\n      const src = this.getAttribute(\"src\");\n      if (!src) return;\n      requestResource(src, \"img\").then((res) => {\n        if (!res || !res.ok) return;\n        const img = document.createElement(\"img\");\n        copyAttributes(this, img, [\"src\"]);\n        const url = toBlobUrl(res.body, res.mime);\n        img.addEventListener(\"load\", () => URL.revokeObjectURL(url), { once: true });\n        img.addEventListener(\"error\", () => URL.revokeObjectURL(url), { once: true });\n        img.setAttribute(\"src\", url);\n        this.replaceWith(img);\n      });\n    }\n  }\n\n  class McpMedia extends HTMLElement {\n    connectedCallback() {\n      if (this.hasAttribute(\"data-mcp-blocked\")) return;\n      const src = this.getAttribute(\"src\");\n      if (!src) return;\n      const tag = this.tagName.toLowerCase().replace(\"mcp-\", \"\");\n      requestResource(src, \"media\").then((res) => {\n        if (!res || !res.ok) return;\n        const node = document.createElement(tag);\n        copyAttributes(this, node, [\"src\"]);\n        const url = toBlobUrl(res.body, res.mime);\n        if (tag === \"source\") {\n          node.setAttribute(\"src\", url);\n        } else {\n          node.setAttribute(\"src\", url);\n          node.addEventListener(\"loadeddata\", () => URL.revokeObjectURL(url), { once: true });\n          node.addEventListener(\"error\", () => URL.revokeObjectURL(url), { once: true });\n        }\n        this.replaceWith(node);\n      });\n    }\n  }\n\n  class McpAudio extends McpMedia {}\n  class McpVideo extends McpMedia {}\n  class McpSource extends McpMedia {}\n\n  customElements.define(\"mcp-link\", McpLink);\n  customElements.define(\"mcp-script\", McpScript);\n  customElements.define(\"mcp-img\", McpImg);\n  customElements.define(\"mcp-audio\", McpAudio);\n  customElements.define(\"mcp-video\", McpVideo);\n  customElements.define(\"mcp-source\", McpSource);\n})();`;\n}\nfunction sanitizeLayerName(name: string | null): string | null {\n\tif (!name) return null;\n\tconst trimmed = name.trim();\n\tif (!trimmed) return null;\n\tif (!/^[a-zA-Z0-9_-]+$/.test(trimmed)) return null;\n\treturn trimmed;\n}\nfunction safeSerialize(value: unknown): string {\n\ttry {\n\t\treturn JSON.stringify(value ?? null)\n\t\t\t.replace(/</g, \"\\\\u003c\")\n\t\t\t.replace(/>/g, \"\\\\u003e\")\n\t\t\t.replace(/\\u2028/g, \"\\\\u2028\")\n\t\t\t.replace(/\\u2029/g, \"\\\\u2029\");\n\t}\n\tcatch {\n\t\treturn \"null\";\n\t}\n}\n", "type RewriteOptions = {\n\thtml: string;\n\trootUri?: string | null;\n\tthemeCss: string;\n\tthemeLink?: string | null;\n\tbootstrapScript: string;\n\tallowRemote: (url: string) => boolean;\n};\nconst BLOCKED_ATTR = \"data-mcp-blocked\";\nexport function rewriteHtml(options: RewriteOptions): string {\n\tconst parser = new DOMParser();\n\tconst doc = parser.parseFromString(options.html, \"text/html\");\n\taddRootClass(doc.documentElement, \"mcp-root\");\n\tif (doc.body) addRootClass(doc.body, \"mcp-root\");\n\trewriteElement(doc, \"link\", \"href\", \"mcp-link\", options);\n\trewriteElement(doc, \"script\", \"src\", \"mcp-script\", options);\n\trewriteElement(doc, \"img\", \"src\", \"mcp-img\", options);\n\trewriteElement(doc, \"source\", \"src\", \"mcp-source\", options);\n\trewriteElement(doc, \"audio\", \"src\", \"mcp-audio\", options);\n\trewriteElement(doc, \"video\", \"src\", \"mcp-video\", options);\n\tconst head = ensureHead(doc);\n\tconst themeStyle = doc.createElement(\"style\");\n\tthemeStyle.setAttribute(\"data-mcp\", \"theme\");\n\tthemeStyle.textContent = options.themeCss;\n\thead.insertBefore(themeStyle, head.firstChild);\n\tlet bootstrapAnchor: ChildNode | null = themeStyle.nextSibling;\n\tif (options.themeLink) {\n\t\tconst linkNode = buildThemeLink(doc, options.themeLink, options);\n\t\tif (linkNode) {\n\t\t\thead.insertBefore(linkNode, themeStyle.nextSibling);\n\t\t\tbootstrapAnchor = linkNode.nextSibling;\n\t\t}\n\t}\n\tconst bootstrap = doc.createElement(\"script\");\n\tbootstrap.setAttribute(\"data-mcp\", \"bootstrap\");\n\tbootstrap.textContent = options.bootstrapScript;\n\thead.insertBefore(bootstrap, bootstrapAnchor);\n\tconst doctype = doc.doctype ? `<!doctype ${doc.doctype.name}>` : \"<!doctype html>\";\n\treturn `${doctype}\\n${doc.documentElement.outerHTML}`;\n}\nfunction rewriteElement(doc: Document, tagName: string, attrName: string, replacementTag: string, options: RewriteOptions): void {\n\tconst elements = Array.from(doc.getElementsByTagName(tagName));\n\tfor (const el of elements) {\n\t\tconst raw = el.getAttribute(attrName);\n\t\tif (!raw) continue;\n\t\tconst info = resolveUrl(raw, options.rootUri || undefined);\n\t\tif (!info) continue;\n\t\tif (info.scheme !== \"ui\" && info.scheme !== \"http\" && info.scheme !== \"https\") {\n\t\t\tcontinue;\n\t\t}\n\t\tconst replacement = doc.createElement(replacementTag);\n\t\tcopyAttributes(el, replacement);\n\t\treplacement.setAttribute(attrName, info.url);\n\t\tif (el.ownerDocument?.head && el.ownerDocument.head.contains(el)) {\n\t\t\treplacement.setAttribute(\"data-mcp-head\", \"true\");\n\t\t}\n\t\tif (info.scheme === \"http\" || info.scheme === \"https\") {\n\t\t\tif (!options.allowRemote(info.url)) {\n\t\t\t\treplacement.setAttribute(BLOCKED_ATTR, \"true\");\n\t\t\t}\n\t\t}\n\t\tel.replaceWith(replacement);\n\t}\n}\nfunction resolveUrl(raw: string, base?: string): { url: string; scheme: string } | null {\n\tconst value = raw.trim();\n\tif (!value) return null;\n\tif (value.startsWith(\"#\")) return null;\n\tconst schemeMatch = value.match(/^[a-zA-Z][a-zA-Z0-9+.-]*:/);\n\tif (schemeMatch) {\n\t\tconst scheme = schemeMatch[0].slice(0, -1).toLowerCase();\n\t\tif (isIgnoredScheme(scheme)) return null;\n\t\treturn { url: value, scheme };\n\t}\n\tif (!base) return null;\n\ttry {\n\t\tconst resolved = new URL(value, base).toString();\n\t\tconst scheme = new URL(resolved).protocol.replace(\":\", \"\").toLowerCase();\n\t\tif (isIgnoredScheme(scheme)) return null;\n\t\treturn { url: resolved, scheme };\n\t}\n\tcatch {\n\t\treturn null;\n\t}\n}\nfunction isIgnoredScheme(scheme: string): boolean {\n\treturn [\"data\", \"blob\", \"mailto\", \"tel\", \"javascript\", \"about\"].includes(scheme);\n}\nfunction copyAttributes(from: Element, to: Element): void {\n\tfor (const attr of Array.from(from.attributes)) {\n\t\tto.setAttribute(attr.name, attr.value);\n\t}\n}\nfunction addRootClass(el: Element | null, className: string): void {\n\tif (!el) return;\n\tconst existing = el.getAttribute(\"class\");\n\tif (!existing) {\n\t\tel.setAttribute(\"class\", className);\n\t\treturn;\n\t}\n\tconst classes = new Set(existing.split(/\\s+/).filter(Boolean));\n\tclasses.add(className);\n\tel.setAttribute(\"class\", Array.from(classes).join(\" \"));\n}\nfunction ensureHead(doc: Document): HTMLHeadElement {\n\tif (doc.head) return doc.head;\n\tconst head = doc.createElement(\"head\");\n\tconst html = doc.documentElement;\n\tif (html.firstChild) {\n\t\thtml.insertBefore(head, html.firstChild);\n\t}\n\telse {\n\t\thtml.appendChild(head);\n\t}\n\treturn head;\n}\nfunction buildThemeLink(doc: Document, url: string, options: RewriteOptions): HTMLElement | null {\n\tconst trimmed = url.trim();\n\tconst info = trimmed.startsWith(\"ui://\") ? resolveUrl(trimmed, options.rootUri || undefined) : resolveUrlWithWindow(trimmed);\n\tif (!info) return null;\n\tif (info.scheme === \"ui\") {\n\t\tconst node = doc.createElement(\"mcp-link\");\n\t\tnode.setAttribute(\"rel\", \"stylesheet\");\n\t\tnode.setAttribute(\"href\", info.url);\n\t\tnode.setAttribute(\"layer\", \"mcp-user\");\n\t\treturn node;\n\t}\n\tif (info.scheme === \"http\" || info.scheme === \"https\") {\n\t\tconst node = doc.createElement(\"link\");\n\t\tnode.setAttribute(\"rel\", \"stylesheet\");\n\t\tnode.setAttribute(\"href\", info.url);\n\t\tnode.setAttribute(\"layer\", \"mcp-user\");\n\t\treturn node;\n\t}\n\treturn null;\n}\nfunction resolveUrlWithWindow(raw: string): { url: string; scheme: string } | null {\n\tif (typeof window === \"undefined\" || !window.location) return null;\n\ttry {\n\t\tconst resolved = new URL(raw, window.location.href).toString();\n\t\tconst scheme = new URL(resolved).protocol.replace(\":\", \"\").toLowerCase();\n\t\tif (isIgnoredScheme(scheme)) return null;\n\t\treturn { url: resolved, scheme };\n\t}\n\tcatch {\n\t\treturn null;\n\t}\n}\n", "export type CssInput = string | Record<string, string>;\nexport type ThemeInputs = { css?: CssInput | null; layers?: string[] | null };\nconst DEFAULT_LAYERS = [\"mcp-default\", \"mcp-content\", \"mcp-user\"];\nconst defaultVariables: Record<string, string> = {\n\t\"--mcp-color-bg\": \"#f7f7f5\",\n\t\"--mcp-color-fg\": \"#1f1f1b\",\n\t\"--mcp-color-muted\": \"#e7e6e2\",\n\t\"--mcp-color-muted-fg\": \"#4b4a44\",\n\t\"--mcp-color-border\": \"#d1d0ca\",\n\t\"--mcp-color-border-strong\": \"#b5b3ab\",\n\t\"--mcp-surface\": \"#ffffff\",\n\t\"--mcp-surface-alt\": \"#f0f0ec\",\n\t\"--mcp-color-primary\": \"#3b5ccc\",\n\t\"--mcp-color-primary-fg\": \"#f8f9ff\",\n\t\"--mcp-color-secondary\": \"#5b6478\",\n\t\"--mcp-color-secondary-fg\": \"#f5f7fb\",\n\t\"--mcp-color-accent\": \"#2f7f6b\",\n\t\"--mcp-color-accent-fg\": \"#f1fffb\",\n\t\"--mcp-color-success\": \"#2f7f6b\",\n\t\"--mcp-color-success-fg\": \"#f1fffb\",\n\t\"--mcp-color-warning\": \"#b26a1f\",\n\t\"--mcp-color-warning-fg\": \"#fff6ea\",\n\t\"--mcp-color-danger\": \"#b3343a\",\n\t\"--mcp-color-danger-fg\": \"#fff1f2\",\n\t\"--mcp-syntax-comment\": \"color-mix(in srgb, var(--mcp-color-muted-fg) 75%, var(--mcp-color-fg))\",\n\t\"--mcp-syntax-constant\": \"color-mix(in srgb, var(--mcp-color-accent) 70%, var(--mcp-color-fg))\",\n\t\"--mcp-syntax-keyword\": \"color-mix(in srgb, var(--mcp-color-primary) 75%, var(--mcp-color-fg))\",\n\t\"--mcp-syntax-entity\": \"color-mix(in srgb, var(--mcp-color-secondary) 70%, var(--mcp-color-fg))\",\n\t\"--mcp-syntax-tag\": \"color-mix(in srgb, var(--mcp-color-accent) 75%, var(--mcp-color-fg))\",\n\t\"--mcp-syntax-variable\": \"color-mix(in srgb, var(--mcp-color-fg) 85%, var(--mcp-color-muted-fg))\",\n\t\"--mcp-syntax-string\": \"color-mix(in srgb, var(--mcp-color-success) 75%, var(--mcp-color-fg))\",\n\t\"--mcp-syntax-number\": \"color-mix(in srgb, var(--mcp-color-warning) 75%, var(--mcp-color-fg))\",\n\t\"--mcp-syntax-operator\": \"color-mix(in srgb, var(--mcp-color-fg) 80%, var(--mcp-color-muted-fg))\",\n\t\"--mcp-syntax-punctuation\": \"color-mix(in srgb, var(--mcp-color-fg) 70%, var(--mcp-color-muted-fg))\",\n\t\"--mcp-font-sans\": '\"IBM Plex Sans\", \"Source Sans 3\", \"Assistant\", \"Noto Sans\", \"Apple Color ' + 'Emoji\", \"Segoe UI Emoji\", \"Noto Color Emoji\", sans-serif',\n\t\"--mcp-font-serif\": '\"IBM Plex Serif\", \"Source Serif 4\", \"Noto Serif\", serif',\n\t\"--mcp-font-mono\": '\"IBM Plex Mono\", \"Source Code Pro\", \"Fira Mono\", monospace',\n\t\"--mcp-text-2xs\": \"0.625rem\",\n\t\"--mcp-text-xs\": \"0.75rem\",\n\t\"--mcp-text-s\": \"0.875rem\",\n\t\"--mcp-text-m\": \"1rem\",\n\t\"--mcp-text-l\": \"1.125rem\",\n\t\"--mcp-text-xl\": \"1.25rem\",\n\t\"--mcp-text-2xl\": \"1.5rem\",\n\t\"--mcp-leading-tight\": \"1.2\",\n\t\"--mcp-leading-normal\": \"1.5\",\n\t\"--mcp-leading-relaxed\": \"1.75\",\n\t\"--mcp-weight-regular\": \"400\",\n\t\"--mcp-weight-medium\": \"500\",\n\t\"--mcp-weight-bold\": \"700\",\n\t\"--mcp-space-3xs\": \"0.125rem\",\n\t\"--mcp-space-2xs\": \"0.25rem\",\n\t\"--mcp-space-xs\": \"0.375rem\",\n\t\"--mcp-space-s\": \"0.5rem\",\n\t\"--mcp-space-m\": \"0.75rem\",\n\t\"--mcp-space-l\": \"1rem\",\n\t\"--mcp-space-xl\": \"1.5rem\",\n\t\"--mcp-space-2xl\": \"2rem\",\n\t\"--mcp-radius-0\": \"0\",\n\t\"--mcp-radius-xs\": \"0.125rem\",\n\t\"--mcp-radius-s\": \"0.25rem\",\n\t\"--mcp-radius-m\": \"0.5rem\",\n\t\"--mcp-radius-l\": \"0.75rem\",\n\t\"--mcp-radius-xl\": \"1rem\",\n\t\"--mcp-radius-round\": \"9999px\",\n\t\"--mcp-shadow-none\": \"none\",\n\t\"--mcp-shadow-xs\": \"0 1px 2px rgba(0, 0, 0, 0.08)\",\n\t\"--mcp-shadow-s\": \"0 2px 6px rgba(0, 0, 0, 0.12)\",\n\t\"--mcp-shadow-m\": \"0 6px 16px rgba(0, 0, 0, 0.16)\",\n\t\"--mcp-shadow-l\": \"0 12px 32px rgba(0, 0, 0, 0.2)\",\n\t\"--mcp-layer-0\": \"0\",\n\t\"--mcp-layer-1\": \"10\",\n\t\"--mcp-layer-2\": \"20\",\n\t\"--mcp-layer-3\": \"30\",\n\t\"--mcp-layer-4\": \"40\",\n\t\"--mcp-duration-instant\": \"0ms\",\n\t\"--mcp-duration-fast\": \"120ms\",\n\t\"--mcp-duration-normal\": \"200ms\",\n\t\"--mcp-duration-slow\": \"320ms\",\n\t\"--mcp-ease-standard\": \"cubic-bezier(0.2, 0, 0, 1)\",\n\t\"--mcp-ease-emphasized\": \"cubic-bezier(0.2, 0, 0, 1.4)\",\n\t\"--mcp-ring\": \"0 0 0 2px\",\n\t\"--mcp-ring-color\": \"rgba(59, 92, 204, 0.2)\"\n};\nconst utilityCss = [\".mcp-root{\", `  ${serializeVariables(defaultVariables)}`, \"  color: var(--mcp-color-fg);\", \"  background: var(--mcp-color-bg);\", \"  font-family: var(--mcp-font-sans);\", \"  font-size: var(--mcp-text-m);\", \"  line-height: var(--mcp-leading-normal);\", \"  font-weight: var(--mcp-weight-regular);\", \"  margin: 0;\", \"}\", \".mcp-button{\", \"  display: inline-flex;\", \"  align-items: center;\", \"  justify-content: center;\", \"  gap: var(--mcp-space-2xs);\", \"  padding: var(--mcp-space-xs) var(--mcp-space-m);\", \"  border: 1px solid var(--mcp-color-border);\", \"  border-radius: var(--mcp-radius-m);\", \"  background: var(--mcp-color-bg);\", \"  color: var(--mcp-color-fg);\", \"  font-size: var(--mcp-text-s);\", \"  line-height: var(--mcp-leading-normal);\", \"  text-decoration: none;\", \"  cursor: pointer;\", \"  transition: background var(--mcp-duration-fast) var(--mcp-ease-standard), border-color \" + \"var(--mcp-duration-fast) var(--mcp-ease-standard), transform var(--mcp-duration-fast) \" + \"var(--mcp-ease-standard);\", \"}\", \".mcp-button:where(:hover){\", \"  background: var(--mcp-color-muted);\", \"}\", \".mcp-button:where(:active){\", \"  transform: translateY(1px);\", \"}\", \".mcp-button:where(.active, [aria-pressed='true']){\", \"  filter: brightness(0.98);\", \"}\", \".mcp-button-primary{\", \"  background: var(--mcp-color-primary);\", \"  color: var(--mcp-color-primary-fg);\", \"  border-color: var(--mcp-color-primary);\", \"}\", \".mcp-button-primary:where(:hover){\", \"  filter: brightness(0.98);\", \"}\", \".mcp-button-secondary{\", \"  background: var(--mcp-color-secondary);\", \"  color: var(--mcp-color-secondary-fg);\", \"  border-color: var(--mcp-color-secondary);\", \"}\", \".mcp-button-ghost{\", \"  background: transparent;\", \"  border-color: transparent;\", \"}\", \".mcp-button-danger{\", \"  background: var(--mcp-color-danger);\", \"  color: var(--mcp-color-danger-fg);\", \"  border-color: var(--mcp-color-danger);\", \"}\", \".mcp-toolbar{\", \"  display: inline-flex;\", \"  align-items: center;\", \"  border: 1px solid var(--mcp-color-border);\", \"  border-radius: var(--mcp-radius-m);\", \"}\", \".mcp-toolbar .mcp-button{\", \"  border: 0;\", \"  border-radius: 0;\", \"}\", \".mcp-toolbar .mcp-button + .mcp-button{\", \"  border-left: 1px solid var(--mcp-color-border);\", \"}\", \".mcp-toolbar .mcp-button:first-child{\", \"  border-top-left-radius: var(--mcp-radius-m);\", \"  border-bottom-left-radius: var(--mcp-radius-m);\", \"}\", \".mcp-toolbar .mcp-button:last-child{\", \"  border-top-right-radius: var(--mcp-radius-m);\", \"  border-bottom-right-radius: var(--mcp-radius-m);\", \"}\", \".mcp-toolbar .mcp-button:where(.active, [aria-pressed='true']){\", \"  position: relative;\", \"  z-index: 1;\", \"}\", \".mcp-input, .mcp-textarea, .mcp-select{\", \"  width: 100%;\", \"  padding: var(--mcp-space-xs) var(--mcp-space-s);\", \"  border: 1px solid var(--mcp-color-border);\", \"  border-radius: var(--mcp-radius-s);\", \"  background: var(--mcp-color-bg);\", \"  color: var(--mcp-color-fg);\", \"  font-size: var(--mcp-text-s);\", \"  line-height: var(--mcp-leading-normal);\", \"}\", \".mcp-input:where(:focus), .mcp-textarea:where(:focus), .mcp-select:where(:focus){\", \"  outline: none;\", \"  border-color: var(--mcp-color-primary);\", \"  box-shadow: var(--mcp-ring) var(--mcp-ring-color);\", \"}\", \".mcp-label{\", \"  display: block;\", \"  margin-bottom: var(--mcp-space-3xs);\", \"  font-size: var(--mcp-text-xs);\", \"  color: var(--mcp-color-muted-fg);\", \"}\", \".mcp-card{\", \"  background: var(--mcp-surface);\", \"  border: 1px solid var(--mcp-color-border);\", \"  border-radius: var(--mcp-radius-l);\", \"  padding: var(--mcp-space-l);\", \"  box-shadow: var(--mcp-shadow-xs);\", \"}\", \".mcp-panel{\", \"  background: var(--mcp-surface);\", \"  border: 1px solid var(--mcp-color-border);\", \"  border-radius: var(--mcp-radius-l);\", \"  padding: var(--mcp-space-l);\", \"  box-shadow: var(--mcp-shadow-xs);\", \"}\", \".mcp-field{\", \"  display: flex;\", \"  flex-direction: column;\", \"  gap: var(--mcp-space-3xs);\", \"}\", \".mcp-divider{\", \"  height: 1px;\", \"  background: var(--mcp-color-border);\", \"  border: 0;\", \"}\", \".mcp-surface{\", \"  background: var(--mcp-color-muted);\", \"  border-radius: var(--mcp-radius-m);\", \"  padding: var(--mcp-space-m);\", \"}\", \".mcp-badge{\", \"  display: inline-flex;\", \"  align-items: center;\", \"  padding: 0 var(--mcp-space-xs);\", \"  border-radius: var(--mcp-radius-round);\", \"  background: var(--mcp-color-secondary);\", \"  color: var(--mcp-color-secondary-fg);\", \"  font-size: var(--mcp-text-2xs);\", \"  line-height: 1.6;\", \"}\", \".mcp-tag{\", \"  display: inline-flex;\", \"  align-items: center;\", \"  padding: 0 var(--mcp-space-xs);\", \"  border-radius: var(--mcp-radius-s);\", \"  background: var(--mcp-color-muted);\", \"  color: var(--mcp-color-muted-fg);\", \"  font-size: var(--mcp-text-2xs);\", \"  line-height: 1.6;\", \"}\", \".mcp-divider{\", \"  height: 1px;\", \"  background: var(--mcp-color-border);\", \"}\", \".mcp-text-muted{\", \"  color: var(--mcp-color-muted-fg);\", \"}\", \".mcp-title{\", \"  font-size: var(--mcp-text-xl);\", \"  line-height: var(--mcp-leading-tight);\", \"  font-weight: var(--mcp-weight-bold);\", \"}\", \".mcp-subtitle{\", \"  font-size: var(--mcp-text-l);\", \"  line-height: var(--mcp-leading-normal);\", \"  font-weight: var(--mcp-weight-medium);\", \"  color: var(--mcp-color-muted-fg);\", \"}\"].join(\"\\n\");\nexport function buildThemeCss(inputs: ThemeInputs): string {\n\tconst parts: string[] = [];\n\tconst order = buildLayerOrder(inputs.layers);\n\tparts.push(`@layer ${order.join(\", \")};`);\n\tparts.push(wrapLayer(\"mcp-default\", utilityCss));\n\tconst overrides = normalizeCssInput(inputs.css);\n\tif (overrides) {\n\t\tparts.push(wrapLayer(\"mcp-user\", overrides));\n\t}\n\treturn parts.join(\"\\n\\n\");\n}\nfunction buildLayerOrder(layers?: string[] | null): string[] {\n\tconst order: string[] = [];\n\tif (layers && layers.length > 0) {\n\t\tfor (const layer of layers) {\n\t\t\tconst trimmed = layer.trim();\n\t\t\tif (!trimmed) continue;\n\t\t\tif (!order.includes(trimmed)) order.push(trimmed);\n\t\t}\n\t}\n\tfor (let i = DEFAULT_LAYERS.length - 1; i >= 0; i -= 1) {\n\t\tconst layer = DEFAULT_LAYERS[i];\n\t\tif (!order.includes(layer)) order.unshift(layer);\n\t}\n\treturn order;\n}\nfunction wrapLayer(name: string, css: string): string {\n\treturn `@layer ${name} {\\n${css}\\n}`;\n}\nfunction serializeVariables(vars: Record<string, string>): string {\n\treturn Object.entries(vars).map(([key, value]) => `${key}: ${value};`).join(\"\\n  \");\n}\nfunction normalizeCssInput(input?: CssInput | null): string | null {\n\tif (!input) return null;\n\tconst value = input;\n\tif (!value) return null;\n\tif (typeof value === \"string\") return value;\n\tif (typeof value === \"object\") {\n\t\tconst filtered = filterVariables(value);\n\t\tif (Object.keys(filtered).length === 0) return null;\n\t\treturn `.mcp-root{${serializeVariables(filtered)}}`;\n\t}\n\treturn null;\n}\nfunction filterVariables(vars: Record<string, string>): Record<string, string> {\n\tconst filtered: Record<string, string> = {};\n\tfor (const [key, value] of Object.entries(vars)) {\n\t\tif (key.startsWith(\"--mcp-\")) {\n\t\t\tfiltered[key] = value;\n\t\t}\n\t}\n\treturn filtered;\n}\n", "import { normalizeResolverResult, inferMime, type ResourceKind } from \"./bridge\";\nimport { getIframeBootstrapScript } from \"./iframe-bootstrap\";\nimport { rewriteHtml } from \"./rewrite\";\nimport { buildThemeCss, type CssInput } from \"./theme\";\nexport type ResolverResult = Response | Blob | string | ArrayBuffer | Uint8Array;\nexport type Resolver = (uri: string) => Promise<ResolverResult>;\nexport type ToolCaller = (params: unknown) => Promise<unknown>;\ntype PendingRequest = {\n\tid: number;\n\turi: string;\n\tkind: ResourceKind;\n\tsource: MessageEventSource | null;\n};\ntype PendingToolCall = {\n\tid: number;\n\tparams: unknown;\n\tsource: MessageEventSource | null;\n};\ntype ResolveResult = {\n\tok: boolean;\n\tmime: string;\n\tbody: Uint8Array;\n\terror?: string;\n};\ntype ToolResult = {\n\tok: boolean;\n\tresult?: unknown;\n\terror?: string;\n};\nexport class McpViewElement extends HTMLElement {\n\tstatic get observedAttributes(): string[] {\n\t\treturn [\"src\", \"theme\", \"base\"];\n\t}\n\tprivate _resolver: Resolver | null = null\n\t;\n\tprivate _toolCaller: ToolCaller | null = null\n\t;\n\tprivate _css: CssInput | null = null\n\t;\n\tprivate _allowedOrigins: string[] = []\n\t;\n\tprivate _allowedRemote: ((url: string) => boolean) | null = null\n\t;\n\tprivate _data: unknown = null\n\t;\n\tprivate _layers: string[] | null = null\n\t;\n\tprivate _iframe: HTMLIFrameElement | null = null\n\t;\n\tprivate _loadToken = 0\n\t;\n\tprivate _boundMessageHandler = (event: MessageEvent) => this.handleMessage(event)\n\t;\n\tconstructor() {\n\t\tsuper();\n\t\tconst root = this.attachShadow({ mode: \"closed\" });\n\t\tconst style = document.createElement(\"style\");\n\t\tstyle.textContent = [\":host{display:block;height:100%;width:100%;}\", \"iframe{width:100%;height:100%;border:0;}\"].join(\"\\n\");\n\t\troot.appendChild(style);\n\t\tconst iframe = document.createElement(\"iframe\");\n\t\tiframe.setAttribute(\"sandbox\", \"allow-scripts\");\n\t\tiframe.setAttribute(\"referrerpolicy\", \"no-referrer\");\n\t\tiframe.style.width = \"100%\";\n\t\tiframe.style.height = \"100%\";\n\t\tiframe.style.border = \"0\";\n\t\tiframe.addEventListener(\"load\", () => this.sendDataUpdate());\n\t\troot.appendChild(iframe);\n\t\tthis._iframe = iframe;\n\t}\n\tconnectedCallback(): void {\n\t\twindow.addEventListener(\"message\", this._boundMessageHandler);\n\t\tthis.render();\n\t}\n\tdisconnectedCallback(): void {\n\t\twindow.removeEventListener(\"message\", this._boundMessageHandler);\n\t}\n\tattributeChangedCallback(name: string): void {\n\t\tif (name === \"src\" || name === \"theme\" || name === \"base\") {\n\t\t\tthis.render();\n\t\t}\n\t}\n\tget resolver(): Resolver | null {\n\t\treturn this._resolver;\n\t}\n\tset resolver(value: Resolver | null) {\n\t\tthis._resolver = value;\n\t\tthis.render();\n\t}\n\tget themeUrl(): string {\n\t\treturn this.getAttribute(\"theme\") || \"\";\n\t}\n\tget toolCaller(): ToolCaller | null {\n\t\treturn this._toolCaller;\n\t}\n\tset toolCaller(value: ToolCaller | null) {\n\t\tthis._toolCaller = value;\n\t}\n\tget base(): string {\n\t\treturn this.getAttribute(\"base\") || \"\";\n\t}\n\tset base(value: string) {\n\t\tif (value) {\n\t\t\tthis.setAttribute(\"base\", value);\n\t\t}\n\t\telse {\n\t\t\tthis.removeAttribute(\"base\");\n\t\t}\n\t}\n\tget src(): string {\n\t\treturn this.getAttribute(\"src\") || \"\";\n\t}\n\tset src(value: string) {\n\t\tif (value) {\n\t\t\tthis.setAttribute(\"src\", value);\n\t\t}\n\t\telse {\n\t\t\tthis.removeAttribute(\"src\");\n\t\t}\n\t}\n\tget allowedOrigins(): string[] {\n\t\treturn this._allowedOrigins;\n\t}\n\tset allowedOrigins(value: string[]) {\n\t\tthis._allowedOrigins = Array.isArray(value) ? value : [];\n\t}\n\tget allowedRemote(): ((url: string) => boolean) | null {\n\t\treturn this._allowedRemote;\n\t}\n\tset allowedRemote(value: ((url: string) => boolean) | null) {\n\t\tthis._allowedRemote = value;\n\t}\n\tget layers(): string[] | null {\n\t\treturn this._layers;\n\t}\n\tset layers(value: string[] | null) {\n\t\tthis._layers = Array.isArray(value) ? value : null;\n\t\tthis.render();\n\t}\n\tget css(): CssInput | null {\n\t\treturn this._css;\n\t}\n\tset css(value: CssInput | null) {\n\t\tthis._css = value;\n\t\tthis.render();\n\t}\n\tget data(): unknown {\n\t\treturn this._data;\n\t}\n\tset data(value: unknown) {\n\t\tthis._data = value;\n\t\tthis.sendDataUpdate();\n\t}\n\tprivate render(): void {\n\t\tif (!this.isConnected) return;\n\t\tconst uri = this.getRootUri();\n\t\tif (!uri) return;\n\t\tvoid this.load(uri);\n\t}\n\tprivate async load(uri: string): Promise<void> {\n\t\tconst token = ++this._loadToken;\n\t\tconst root = await this.resolveResource(uri, \"document\");\n\t\tif (!root.ok) return;\n\t\tconst html = new TextDecoder().decode(root.body);\n\t\tconst themeCss = buildThemeCss({ css: this._css, layers: this._layers });\n\t\tconst bootstrapScript = getIframeBootstrapScript(this._data);\n\t\tconst rewritten = rewriteHtml(\n\t\t\t{\n\t\t\t\thtml,\n\t\t\t\trootUri: uri,\n\t\t\t\tthemeCss,\n\t\t\t\tthemeLink: this.themeUrl || null,\n\t\t\t\tbootstrapScript,\n\t\t\t\tallowRemote: (url) => this.isRemoteAllowed(url)\n\t\t\t}\n\t\t);\n\t\tif (token !== this._loadToken) return;\n\t\tif (this._iframe) {\n\t\t\tthis._iframe.srcdoc = rewritten;\n\t\t}\n\t}\n\tprivate getRootUri(): string {\n\t\treturn this.getAttribute(\"src\") || \"\";\n\t}\n\tprivate handleMessage(event: MessageEvent): void {\n\t\tif (!this._iframe || event.source !== this._iframe.contentWindow) return;\n\t\tconst data = event.data;\n\t\tif (!data) return;\n\t\tif (data.type === \"mcp:request\") {\n\t\t\tconst uri = typeof data.uri === \"string\" ? data.uri : \"\";\n\t\t\tconst kind = (data.kind as ResourceKind) || \"document\";\n\t\t\tconst id = typeof data.id === \"number\" ? data.id : 0;\n\t\t\tif (!uri || !id) {\n\t\t\t\tconsole.error(\"[mcp] invalid request\", { uri, id, kind });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst request: PendingRequest = {\n\t\t\t\tid,\n\t\t\t\turi,\n\t\t\t\tkind,\n\t\t\t\tsource: event.source\n\t\t\t};\n\t\t\tvoid this.fulfillRequest(request);\n\t\t\treturn;\n\t\t}\n\t\tif (data.type === \"mcp:tool-call\") {\n\t\t\tconst id = typeof data.id === \"number\" ? data.id : 0;\n\t\t\tconst params = data.params;\n\t\t\tconst method = typeof data.method === \"string\" ? data.method : \"tools/call\";\n\t\t\tif (!id) {\n\t\t\t\tconsole.error(\"[mcp] invalid tool call\", { id });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (method !== \"tools/call\") {\n\t\t\t\tconsole.error(\"[mcp] unsupported tool method\", { method });\n\t\t\t\tconst message = {\n\t\t\t\t\ttype: \"mcp:tool-result\",\n\t\t\t\t\tid,\n\t\t\t\t\tok: false,\n\t\t\t\t\terror: `Unsupported tool method: ${method}`\n\t\t\t\t};\n\t\t\t\tthis.postMessageToSource(event.source, message, []);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst request: PendingToolCall = { id, params, source: event.source };\n\t\t\tvoid this.fulfillToolCall(request);\n\t\t}\n\t}\n\tprivate async fulfillRequest(request: PendingRequest): Promise<void> {\n\t\tlet response: ResolveResult;\n\t\ttry {\n\t\t\tresponse = await this.resolveResource(request.uri, request.kind);\n\t\t}\n\t\tcatch (error) {\n\t\t\tresponse = {\n\t\t\t\tok: false,\n\t\t\t\tmime: \"text/plain\",\n\t\t\t\tbody: new Uint8Array(),\n\t\t\t\terror: error instanceof Error ? error.message : \"Resolver error\"\n\t\t\t};\n\t\t}\n\t\tif (!response.ok) {\n\t\t\tconsole.error(\"[mcp] resolve failed\", { uri: request.uri, kind: request.kind, error: response.error || \"Unknown error\" });\n\t\t}\n\t\tconst body = response.body || new Uint8Array();\n\t\tconst buffer = body.buffer.slice(body.byteOffset, body.byteOffset + body.byteLength);\n\t\tconst message = {\n\t\t\ttype: \"mcp:response\",\n\t\t\tid: request.id,\n\t\t\tok: response.ok,\n\t\t\tmime: response.mime,\n\t\t\tbody: buffer,\n\t\t\terror: response.error\n\t\t};\n\t\tthis.postMessageToSource(request.source, message, [buffer]);\n\t}\n\tprivate async fulfillToolCall(request: PendingToolCall): Promise<void> {\n\t\tlet response: ToolResult;\n\t\tconst caller = this._toolCaller;\n\t\tif (!caller) {\n\t\t\tresponse = { ok: false, error: \"No tool caller\" };\n\t\t}\n\t\telse {\n\t\t\ttry {\n\t\t\t\tconst result = await caller(request.params);\n\t\t\t\tresponse = { ok: true, result };\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tresponse = { ok: false, error: error instanceof Error ? error.message : \"Tool call failed\" };\n\t\t\t}\n\t\t}\n\t\tif (!response.ok) {\n\t\t\tconsole.error(\"[mcp] tool call failed\", { error: response.error || \"Unknown error\" });\n\t\t}\n\t\tconst message = {\n\t\t\ttype: \"mcp:tool-result\",\n\t\t\tid: request.id,\n\t\t\tok: response.ok,\n\t\t\tresult: response.result,\n\t\t\terror: response.error\n\t\t};\n\t\tthis.postMessageToSource(request.source, message, []);\n\t}\n\tprivate async resolveResource(uri: string, kind: ResourceKind): Promise<ResolveResult> {\n\t\tif (uri.startsWith(\"ui://\")) {\n\t\t\tconst resolver = this.getActiveResolver();\n\t\t\tif (!resolver) {\n\t\t\t\treturn {\n\t\t\t\t\tok: false,\n\t\t\t\t\tmime: \"text/plain\",\n\t\t\t\t\tbody: new Uint8Array(),\n\t\t\t\t\terror: \"No resolver\"\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst result = await normalizeResolverResult(await resolver(uri), kind, uri);\n\t\t\treturn result;\n\t\t}\n\t\tif (uri.startsWith(\"http://\") || uri.startsWith(\"https://\")) {\n\t\t\tif (!this.isRemoteAllowed(uri)) {\n\t\t\t\treturn {\n\t\t\t\t\tok: false,\n\t\t\t\t\tmime: \"text/plain\",\n\t\t\t\t\tbody: new Uint8Array(),\n\t\t\t\t\terror: \"Remote blocked\"\n\t\t\t\t};\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst res = await fetch(uri);\n\t\t\t\tconst normalized = await normalizeResolverResult(res, kind, uri);\n\t\t\t\treturn normalized;\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\treturn {\n\t\t\t\t\tok: false,\n\t\t\t\t\tmime: \"text/plain\",\n\t\t\t\t\tbody: new Uint8Array(),\n\t\t\t\t\terror: error instanceof Error ? error.message : \"Remote fetch failed\"\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tok: false,\n\t\t\tmime: inferMime(kind, uri),\n\t\t\tbody: new Uint8Array(),\n\t\t\terror: \"Unsupported URI\"\n\t\t};\n\t}\n\tprivate isRemoteAllowed(url: string): boolean {\n\t\tif (this._allowedRemote) {\n\t\t\treturn this._allowedRemote(url);\n\t\t}\n\t\tif (!this._allowedOrigins.length) return false;\n\t\ttry {\n\t\t\tconst parsed = new URL(url);\n\t\t\treturn this._allowedOrigins\n\t\t\t\t.some(\n\t\t\t\t\t(origin) => {\n\t\t\t\t\t\tif (origin.includes(\"://\")) {\n\t\t\t\t\t\t\treturn parsed.origin === origin;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn parsed.hostname === origin;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t}\n\t\tcatch {\n\t\t\treturn false;\n\t\t}\n\t}\n\tprivate postMessageToSource(source: MessageEventSource | null, message: unknown, transfer: Transferable[] = []): void {\n\t\tif (!source) {\n\t\t\tconsole.error(\"[mcp] missing message source\", message);\n\t\t\treturn;\n\t\t}\n\t\tconst postMessage = (source as { postMessage?: unknown }).postMessage;\n\t\tif (typeof postMessage !== \"function\") {\n\t\t\tconsole.error(\"[mcp] invalid message source\", source);\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\t(source as Window).postMessage(message, \"*\", transfer);\n\t\t\treturn;\n\t\t}\n\t\tcatch (error) {\n\t\t\ttry {\n\t\t\t\t(source as MessagePort).postMessage(message, transfer);\n\t\t\t}\n\t\t\tcatch (fallbackError) {\n\t\t\t\tconsole.error(\"[mcp] postMessage failed\", { error, fallbackError });\n\t\t\t}\n\t\t}\n\t}\n\tprivate sendDataUpdate(): void {\n\t\tif (!this._iframe || !this._iframe.contentWindow) return;\n\t\tthis._iframe.contentWindow.postMessage({ type: \"mcp-data:update\", payload: this._data }, \"*\");\n\t}\n\tprivate getActiveResolver(): Resolver | null {\n\t\tif (this._resolver) return this._resolver;\n\t\tconst base = this.base || DEFAULT_BASE;\n\t\treturn this.buildDefaultResolver(base);\n\t}\n\tprivate buildDefaultResolver(base: string): Resolver {\n\t\tconst resolvedBase = resolveBaseUrl(base);\n\t\treturn async(uri) => {\n\t\t\tconst url = buildResolverUrl(resolvedBase, uri);\n\t\t\treturn fetch(url);\n\t\t};\n\t}\n}\nconst DEFAULT_BASE = \"/mcp/resources/\";\nfunction resolveBaseUrl(base: string): string {\n\tif (!base) return base;\n\tif (typeof window === \"undefined\" || !window.location) return base;\n\ttry {\n\t\treturn new URL(base, window.location.href).toString();\n\t}\n\tcatch {\n\t\treturn base;\n\t}\n}\nfunction buildResolverUrl(base: string, uri: string): string {\n\tconst path = stripUiScheme(uri);\n\tif (base.includes(\"{path}\")) {\n\t\treturn base.split(\"{path}\").join(encodeURI(path));\n\t}\n\tif (base.includes(\"{uri}\")) {\n\t\treturn base.split(\"{uri}\").join(encodeURIComponent(uri));\n\t}\n\tif (base.includes(\"?\")) {\n\t\treturn `${base}&uri=${encodeURIComponent(uri)}`;\n\t}\n\tif (base.endsWith(\"/\")) {\n\t\treturn `${base}${encodeURI(path)}`;\n\t}\n\treturn `${base}/${encodeURI(path)}`;\n}\nfunction stripUiScheme(uri: string): string {\n\tif (!uri.startsWith(\"ui://\")) return uri;\n\treturn uri.slice(\"ui://\".length);\n}\nexport function defineMcpView(): void {\n\tif (!customElements.get(\"mcp-view\")) {\n\t\tcustomElements.define(\"mcp-view\", McpViewElement);\n\t}\n}\n", "import { McpViewElement, defineMcpView } from \"./mcp-view\";\nexport { McpViewElement, defineMcpView };\nexport type { Resolver, ResolverResult } from \"./mcp-view\";\nif (typeof window !== \"undefined\" && \"customElements\" in window) {\n\tdefineMcpView();\n}\n"],
  "mappings": ";AAOA,eAAsB,wBAAwB,QAAiB,MAAoB,KAA0C;AAC5H,MAAI;AACH,QAAI,kBAAkB,UAAU;AAC/B,UAAI,CAAC,OAAO,IAAI;AACf,eAAO;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,MAAM,IAAI,WAAW;AAAA,UACrB,OAAO,QAAQ,OAAO,MAAM;AAAA,QAC7B;AAAA,MACD;AACA,YAAM,OAAO,IAAI,WAAW,MAAM,OAAO,YAAY,CAAC;AACtD,YAAM,OAAO,OAAO,QAAQ,IAAI,cAAc,KAAK,UAAU,MAAM,GAAG;AACtE,aAAO,EAAE,IAAI,MAAM,MAAM,KAAK;AAAA,IAC/B;AACA,QAAI,kBAAkB,MAAM;AAC3B,YAAM,OAAO,IAAI,WAAW,MAAM,OAAO,YAAY,CAAC;AACtD,YAAM,OAAO,OAAO,QAAQ,UAAU,MAAM,GAAG;AAC/C,aAAO,EAAE,IAAI,MAAM,MAAM,KAAK;AAAA,IAC/B;AACA,QAAI,OAAO,WAAW,UAAU;AAC/B,YAAM,UAAU,IAAI,YAAY;AAChC,YAAM,OAAO,QAAQ,OAAO,MAAM;AAClC,YAAM,OAAO,UAAU,MAAM,GAAG;AAChC,aAAO,EAAE,IAAI,MAAM,MAAM,KAAK;AAAA,IAC/B;AACA,QAAI,kBAAkB,aAAa;AAClC,YAAM,OAAO,IAAI,WAAW,MAAM;AAClC,YAAM,OAAO,UAAU,MAAM,GAAG;AAChC,aAAO,EAAE,IAAI,MAAM,MAAM,KAAK;AAAA,IAC/B;AACA,QAAI,kBAAkB,YAAY;AACjC,YAAM,OAAO,UAAU,MAAM,GAAG;AAChC,aAAO,EAAE,IAAI,MAAM,MAAM,MAAM,OAAO;AAAA,IACvC;AAAA,EACD,SACO,OAAO;AACb,WAAO;AAAA,MACN,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,MAAM,IAAI,WAAW;AAAA,MACrB,OAAO,iBAAiB,QAAQ,MAAM,UAAU;AAAA,IACjD;AAAA,EACD;AACA,SAAO;AAAA,IACN,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,MAAM,IAAI,WAAW;AAAA,IACrB,OAAO;AAAA,EACR;AACD;AACO,SAAS,UAAU,MAAoB,KAAqB;AAClE,MAAI,SAAS;AAAY,WAAO;AAChC,MAAI,SAAS;AAAS,WAAO;AAC7B,MAAI,SAAS;AAAU,WAAO;AAC9B,QAAM,MAAM,aAAa,GAAG;AAC5B,MAAI,KAAK;AACR,UAAM,SAAiC;AAAA,MACtC,KAAK;AAAA,MACL,IAAI;AAAA,MACJ,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,KAAK;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,OAAO;AAAA,MACP,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,IACP;AACA,QAAI,OAAO,GAAG;AAAG,aAAO,OAAO,GAAG;AAAA,EACnC;AACA,MAAI,SAAS;AAAO,WAAO;AAC3B,SAAO;AACR;AACA,SAAS,aAAa,KAA4B;AACjD,MAAI;AACH,UAAM,MAAM,IAAI,IAAI,GAAG;AACvB,UAAM,OAAO,IAAI;AACjB,UAAM,OAAO,KAAK,MAAM,GAAG,EAAE,IAAI;AACjC,QAAI,CAAC,QAAQ,CAAC,KAAK,SAAS,GAAG;AAAG,aAAO;AACzC,WAAO,KAAK,MAAM,GAAG,EAAE,IAAI,GAAG,YAAY,KAAK;AAAA,EAChD,QACM;AACL,WAAO;AAAA,EACR;AACD;;;ACtGO,SAAS,yBAAyB,aAA8B;AACtE,QAAM,aAAa,cAAc,WAAW;AAC5C,SAAO;AAAA,wBACgB,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqOlC;AAQA,SAAS,cAAc,OAAwB;AAC9C,MAAI;AACH,WAAO,KAAK,UAAU,SAAS,IAAI,EACjC,QAAQ,MAAM,SAAS,EACvB,QAAQ,MAAM,SAAS,EACvB,QAAQ,WAAW,SAAS,EAC5B,QAAQ,WAAW,SAAS;AAAA,EAC/B,QACM;AACL,WAAO;AAAA,EACR;AACD;;;ACnPA,IAAM,eAAe;AACd,SAAS,YAAY,SAAiC;AAC5D,QAAM,SAAS,IAAI,UAAU;AAC7B,QAAM,MAAM,OAAO,gBAAgB,QAAQ,MAAM,WAAW;AAC5D,eAAa,IAAI,iBAAiB,UAAU;AAC5C,MAAI,IAAI;AAAM,iBAAa,IAAI,MAAM,UAAU;AAC/C,iBAAe,KAAK,QAAQ,QAAQ,YAAY,OAAO;AACvD,iBAAe,KAAK,UAAU,OAAO,cAAc,OAAO;AAC1D,iBAAe,KAAK,OAAO,OAAO,WAAW,OAAO;AACpD,iBAAe,KAAK,UAAU,OAAO,cAAc,OAAO;AAC1D,iBAAe,KAAK,SAAS,OAAO,aAAa,OAAO;AACxD,iBAAe,KAAK,SAAS,OAAO,aAAa,OAAO;AACxD,QAAM,OAAO,WAAW,GAAG;AAC3B,QAAM,aAAa,IAAI,cAAc,OAAO;AAC5C,aAAW,aAAa,YAAY,OAAO;AAC3C,aAAW,cAAc,QAAQ;AACjC,OAAK,aAAa,YAAY,KAAK,UAAU;AAC7C,MAAI,kBAAoC,WAAW;AACnD,MAAI,QAAQ,WAAW;AACtB,UAAM,WAAW,eAAe,KAAK,QAAQ,WAAW,OAAO;AAC/D,QAAI,UAAU;AACb,WAAK,aAAa,UAAU,WAAW,WAAW;AAClD,wBAAkB,SAAS;AAAA,IAC5B;AAAA,EACD;AACA,QAAM,YAAY,IAAI,cAAc,QAAQ;AAC5C,YAAU,aAAa,YAAY,WAAW;AAC9C,YAAU,cAAc,QAAQ;AAChC,OAAK,aAAa,WAAW,eAAe;AAC5C,QAAM,UAAU,IAAI,UAAU,aAAa,IAAI,QAAQ,IAAI,MAAM;AACjE,SAAO,GAAG,OAAO;AAAA,EAAK,IAAI,gBAAgB,SAAS;AACpD;AACA,SAAS,eAAe,KAAe,SAAiB,UAAkB,gBAAwB,SAA+B;AAChI,QAAM,WAAW,MAAM,KAAK,IAAI,qBAAqB,OAAO,CAAC;AAC7D,aAAW,MAAM,UAAU;AAC1B,UAAM,MAAM,GAAG,aAAa,QAAQ;AACpC,QAAI,CAAC;AAAK;AACV,UAAM,OAAO,WAAW,KAAK,QAAQ,WAAW,MAAS;AACzD,QAAI,CAAC;AAAM;AACX,QAAI,KAAK,WAAW,QAAQ,KAAK,WAAW,UAAU,KAAK,WAAW,SAAS;AAC9E;AAAA,IACD;AACA,UAAM,cAAc,IAAI,cAAc,cAAc;AACpD,mBAAe,IAAI,WAAW;AAC9B,gBAAY,aAAa,UAAU,KAAK,GAAG;AAC3C,QAAI,GAAG,eAAe,QAAQ,GAAG,cAAc,KAAK,SAAS,EAAE,GAAG;AACjE,kBAAY,aAAa,iBAAiB,MAAM;AAAA,IACjD;AACA,QAAI,KAAK,WAAW,UAAU,KAAK,WAAW,SAAS;AACtD,UAAI,CAAC,QAAQ,YAAY,KAAK,GAAG,GAAG;AACnC,oBAAY,aAAa,cAAc,MAAM;AAAA,MAC9C;AAAA,IACD;AACA,OAAG,YAAY,WAAW;AAAA,EAC3B;AACD;AACA,SAAS,WAAW,KAAa,MAAuD;AACvF,QAAM,QAAQ,IAAI,KAAK;AACvB,MAAI,CAAC;AAAO,WAAO;AACnB,MAAI,MAAM,WAAW,GAAG;AAAG,WAAO;AAClC,QAAM,cAAc,MAAM,MAAM,2BAA2B;AAC3D,MAAI,aAAa;AAChB,UAAM,SAAS,YAAY,CAAC,EAAE,MAAM,GAAG,EAAE,EAAE,YAAY;AACvD,QAAI,gBAAgB,MAAM;AAAG,aAAO;AACpC,WAAO,EAAE,KAAK,OAAO,OAAO;AAAA,EAC7B;AACA,MAAI,CAAC;AAAM,WAAO;AAClB,MAAI;AACH,UAAM,WAAW,IAAI,IAAI,OAAO,IAAI,EAAE,SAAS;AAC/C,UAAM,SAAS,IAAI,IAAI,QAAQ,EAAE,SAAS,QAAQ,KAAK,EAAE,EAAE,YAAY;AACvE,QAAI,gBAAgB,MAAM;AAAG,aAAO;AACpC,WAAO,EAAE,KAAK,UAAU,OAAO;AAAA,EAChC,QACM;AACL,WAAO;AAAA,EACR;AACD;AACA,SAAS,gBAAgB,QAAyB;AACjD,SAAO,CAAC,QAAQ,QAAQ,UAAU,OAAO,cAAc,OAAO,EAAE,SAAS,MAAM;AAChF;AACA,SAAS,eAAe,MAAe,IAAmB;AACzD,aAAW,QAAQ,MAAM,KAAK,KAAK,UAAU,GAAG;AAC/C,OAAG,aAAa,KAAK,MAAM,KAAK,KAAK;AAAA,EACtC;AACD;AACA,SAAS,aAAa,IAAoB,WAAyB;AAClE,MAAI,CAAC;AAAI;AACT,QAAM,WAAW,GAAG,aAAa,OAAO;AACxC,MAAI,CAAC,UAAU;AACd,OAAG,aAAa,SAAS,SAAS;AAClC;AAAA,EACD;AACA,QAAM,UAAU,IAAI,IAAI,SAAS,MAAM,KAAK,EAAE,OAAO,OAAO,CAAC;AAC7D,UAAQ,IAAI,SAAS;AACrB,KAAG,aAAa,SAAS,MAAM,KAAK,OAAO,EAAE,KAAK,GAAG,CAAC;AACvD;AACA,SAAS,WAAW,KAAgC;AACnD,MAAI,IAAI;AAAM,WAAO,IAAI;AACzB,QAAM,OAAO,IAAI,cAAc,MAAM;AACrC,QAAM,OAAO,IAAI;AACjB,MAAI,KAAK,YAAY;AACpB,SAAK,aAAa,MAAM,KAAK,UAAU;AAAA,EACxC,OACK;AACJ,SAAK,YAAY,IAAI;AAAA,EACtB;AACA,SAAO;AACR;AACA,SAAS,eAAe,KAAe,KAAa,SAA6C;AAChG,QAAM,UAAU,IAAI,KAAK;AACzB,QAAM,OAAO,QAAQ,WAAW,OAAO,IAAI,WAAW,SAAS,QAAQ,WAAW,MAAS,IAAI,qBAAqB,OAAO;AAC3H,MAAI,CAAC;AAAM,WAAO;AAClB,MAAI,KAAK,WAAW,MAAM;AACzB,UAAM,OAAO,IAAI,cAAc,UAAU;AACzC,SAAK,aAAa,OAAO,YAAY;AACrC,SAAK,aAAa,QAAQ,KAAK,GAAG;AAClC,SAAK,aAAa,SAAS,UAAU;AACrC,WAAO;AAAA,EACR;AACA,MAAI,KAAK,WAAW,UAAU,KAAK,WAAW,SAAS;AACtD,UAAM,OAAO,IAAI,cAAc,MAAM;AACrC,SAAK,aAAa,OAAO,YAAY;AACrC,SAAK,aAAa,QAAQ,KAAK,GAAG;AAClC,SAAK,aAAa,SAAS,UAAU;AACrC,WAAO;AAAA,EACR;AACA,SAAO;AACR;AACA,SAAS,qBAAqB,KAAqD;AAClF,MAAI,OAAO,WAAW,eAAe,CAAC,OAAO;AAAU,WAAO;AAC9D,MAAI;AACH,UAAM,WAAW,IAAI,IAAI,KAAK,OAAO,SAAS,IAAI,EAAE,SAAS;AAC7D,UAAM,SAAS,IAAI,IAAI,QAAQ,EAAE,SAAS,QAAQ,KAAK,EAAE,EAAE,YAAY;AACvE,QAAI,gBAAgB,MAAM;AAAG,aAAO;AACpC,WAAO,EAAE,KAAK,UAAU,OAAO;AAAA,EAChC,QACM;AACL,WAAO;AAAA,EACR;AACD;;;ACjJA,IAAM,iBAAiB,CAAC,eAAe,eAAe,UAAU;AAChE,IAAM,mBAA2C;AAAA,EAChD,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,qBAAqB;AAAA,EACrB,wBAAwB;AAAA,EACxB,sBAAsB;AAAA,EACtB,6BAA6B;AAAA,EAC7B,iBAAiB;AAAA,EACjB,qBAAqB;AAAA,EACrB,uBAAuB;AAAA,EACvB,0BAA0B;AAAA,EAC1B,yBAAyB;AAAA,EACzB,4BAA4B;AAAA,EAC5B,sBAAsB;AAAA,EACtB,yBAAyB;AAAA,EACzB,uBAAuB;AAAA,EACvB,0BAA0B;AAAA,EAC1B,uBAAuB;AAAA,EACvB,0BAA0B;AAAA,EAC1B,sBAAsB;AAAA,EACtB,yBAAyB;AAAA,EACzB,wBAAwB;AAAA,EACxB,yBAAyB;AAAA,EACzB,wBAAwB;AAAA,EACxB,uBAAuB;AAAA,EACvB,oBAAoB;AAAA,EACpB,yBAAyB;AAAA,EACzB,uBAAuB;AAAA,EACvB,uBAAuB;AAAA,EACvB,yBAAyB;AAAA,EACzB,4BAA4B;AAAA,EAC5B,mBAAmB;AAAA,EACnB,oBAAoB;AAAA,EACpB,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,iBAAiB;AAAA,EACjB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,iBAAiB;AAAA,EACjB,kBAAkB;AAAA,EAClB,uBAAuB;AAAA,EACvB,wBAAwB;AAAA,EACxB,yBAAyB;AAAA,EACzB,wBAAwB;AAAA,EACxB,uBAAuB;AAAA,EACvB,qBAAqB;AAAA,EACrB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,kBAAkB;AAAA,EAClB,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,mBAAmB;AAAA,EACnB,sBAAsB;AAAA,EACtB,qBAAqB;AAAA,EACrB,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,0BAA0B;AAAA,EAC1B,uBAAuB;AAAA,EACvB,yBAAyB;AAAA,EACzB,uBAAuB;AAAA,EACvB,uBAAuB;AAAA,EACvB,yBAAyB;AAAA,EACzB,cAAc;AAAA,EACd,oBAAoB;AACrB;AACA,IAAM,aAAa,CAAC,cAAc,KAAK,mBAAmB,gBAAgB,CAAC,IAAI,iCAAiC,sCAAsC,wCAAwC,mCAAmC,6CAA6C,6CAA6C,gBAAgB,KAAK,gBAAgB,2BAA2B,0BAA0B,8BAA8B,gCAAgC,sDAAsD,gDAAgD,yCAAyC,sCAAsC,iCAAiC,mCAAmC,6CAA6C,4BAA4B,sBAAsB,4MAAsN,KAAK,8BAA8B,yCAAyC,KAAK,+BAA+B,iCAAiC,KAAK,sDAAsD,+BAA+B,KAAK,wBAAwB,2CAA2C,yCAAyC,6CAA6C,KAAK,sCAAsC,+BAA+B,KAAK,0BAA0B,6CAA6C,2CAA2C,+CAA+C,KAAK,sBAAsB,8BAA8B,gCAAgC,KAAK,uBAAuB,0CAA0C,wCAAwC,4CAA4C,KAAK,iBAAiB,2BAA2B,0BAA0B,gDAAgD,yCAAyC,KAAK,6BAA6B,gBAAgB,uBAAuB,KAAK,2CAA2C,qDAAqD,KAAK,yCAAyC,kDAAkD,qDAAqD,KAAK,wCAAwC,mDAAmD,sDAAsD,KAAK,mEAAmE,yBAAyB,iBAAiB,KAAK,2CAA2C,kBAAkB,sDAAsD,gDAAgD,yCAAyC,sCAAsC,iCAAiC,mCAAmC,6CAA6C,KAAK,qFAAqF,oBAAoB,6CAA6C,wDAAwD,KAAK,eAAe,qBAAqB,0CAA0C,oCAAoC,uCAAuC,KAAK,cAAc,qCAAqC,gDAAgD,yCAAyC,kCAAkC,uCAAuC,KAAK,eAAe,qCAAqC,gDAAgD,yCAAyC,kCAAkC,uCAAuC,KAAK,eAAe,oBAAoB,6BAA6B,gCAAgC,KAAK,iBAAiB,kBAAkB,0CAA0C,gBAAgB,KAAK,iBAAiB,yCAAyC,yCAAyC,kCAAkC,KAAK,eAAe,2BAA2B,0BAA0B,qCAAqC,6CAA6C,6CAA6C,2CAA2C,qCAAqC,uBAAuB,KAAK,aAAa,2BAA2B,0BAA0B,qCAAqC,yCAAyC,yCAAyC,uCAAuC,qCAAqC,uBAAuB,KAAK,iBAAiB,kBAAkB,0CAA0C,KAAK,oBAAoB,uCAAuC,KAAK,eAAe,oCAAoC,4CAA4C,0CAA0C,KAAK,kBAAkB,mCAAmC,6CAA6C,4CAA4C,uCAAuC,GAAG,EAAE,KAAK,IAAI;AAC5mK,SAAS,cAAc,QAA6B;AAC1D,QAAM,QAAkB,CAAC;AACzB,QAAM,QAAQ,gBAAgB,OAAO,MAAM;AAC3C,QAAM,KAAK,UAAU,MAAM,KAAK,IAAI,CAAC,GAAG;AACxC,QAAM,KAAK,UAAU,eAAe,UAAU,CAAC;AAC/C,QAAM,YAAY,kBAAkB,OAAO,GAAG;AAC9C,MAAI,WAAW;AACd,UAAM,KAAK,UAAU,YAAY,SAAS,CAAC;AAAA,EAC5C;AACA,SAAO,MAAM,KAAK,MAAM;AACzB;AACA,SAAS,gBAAgB,QAAoC;AAC5D,QAAM,QAAkB,CAAC;AACzB,MAAI,UAAU,OAAO,SAAS,GAAG;AAChC,eAAW,SAAS,QAAQ;AAC3B,YAAM,UAAU,MAAM,KAAK;AAC3B,UAAI,CAAC;AAAS;AACd,UAAI,CAAC,MAAM,SAAS,OAAO;AAAG,cAAM,KAAK,OAAO;AAAA,IACjD;AAAA,EACD;AACA,WAAS,IAAI,eAAe,SAAS,GAAG,KAAK,GAAG,KAAK,GAAG;AACvD,UAAM,QAAQ,eAAe,CAAC;AAC9B,QAAI,CAAC,MAAM,SAAS,KAAK;AAAG,YAAM,QAAQ,KAAK;AAAA,EAChD;AACA,SAAO;AACR;AACA,SAAS,UAAU,MAAc,KAAqB;AACrD,SAAO,UAAU,IAAI;AAAA,EAAO,GAAG;AAAA;AAChC;AACA,SAAS,mBAAmB,MAAsC;AACjE,SAAO,OAAO,QAAQ,IAAI,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,GAAG,GAAG,KAAK,KAAK,GAAG,EAAE,KAAK,MAAM;AACnF;AACA,SAAS,kBAAkB,OAAwC;AAClE,MAAI,CAAC;AAAO,WAAO;AACnB,QAAM,QAAQ;AACd,MAAI,CAAC;AAAO,WAAO;AACnB,MAAI,OAAO,UAAU;AAAU,WAAO;AACtC,MAAI,OAAO,UAAU,UAAU;AAC9B,UAAM,WAAW,gBAAgB,KAAK;AACtC,QAAI,OAAO,KAAK,QAAQ,EAAE,WAAW;AAAG,aAAO;AAC/C,WAAO,aAAa,mBAAmB,QAAQ,CAAC;AAAA,EACjD;AACA,SAAO;AACR;AACA,SAAS,gBAAgB,MAAsD;AAC9E,QAAM,WAAmC,CAAC;AAC1C,aAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,IAAI,GAAG;AAChD,QAAI,IAAI,WAAW,QAAQ,GAAG;AAC7B,eAAS,GAAG,IAAI;AAAA,IACjB;AAAA,EACD;AACA,SAAO;AACR;;;AC5GO,IAAM,iBAAN,cAA6B,YAAY;AAAA,EAwB/C,cAAc;AACb,UAAM;AArBP,SAAQ,YAA6B;AAErC,SAAQ,cAAiC;AAEzC,SAAQ,OAAwB;AAEhC,SAAQ,kBAA4B,CAAC;AAErC,SAAQ,iBAAoD;AAE5D,SAAQ,QAAiB;AAEzB,SAAQ,UAA2B;AAEnC,SAAQ,UAAoC;AAE5C,SAAQ,aAAa;AAErB,SAAQ,uBAAuB,CAAC,UAAwB,KAAK,cAAc,KAAK;AAI/E,UAAM,OAAO,KAAK,aAAa,EAAE,MAAM,SAAS,CAAC;AACjD,UAAM,QAAQ,SAAS,cAAc,OAAO;AAC5C,UAAM,cAAc,CAAC,gDAAgD,0CAA0C,EAAE,KAAK,IAAI;AAC1H,SAAK,YAAY,KAAK;AACtB,UAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,WAAO,aAAa,WAAW,eAAe;AAC9C,WAAO,aAAa,kBAAkB,aAAa;AACnD,WAAO,MAAM,QAAQ;AACrB,WAAO,MAAM,SAAS;AACtB,WAAO,MAAM,SAAS;AACtB,WAAO,iBAAiB,QAAQ,MAAM,KAAK,eAAe,CAAC;AAC3D,SAAK,YAAY,MAAM;AACvB,SAAK,UAAU;AAAA,EAChB;AAAA,EAtCA,WAAW,qBAA+B;AACzC,WAAO,CAAC,OAAO,SAAS,MAAM;AAAA,EAC/B;AAAA,EAqCA,oBAA0B;AACzB,WAAO,iBAAiB,WAAW,KAAK,oBAAoB;AAC5D,SAAK,OAAO;AAAA,EACb;AAAA,EACA,uBAA6B;AAC5B,WAAO,oBAAoB,WAAW,KAAK,oBAAoB;AAAA,EAChE;AAAA,EACA,yBAAyB,MAAoB;AAC5C,QAAI,SAAS,SAAS,SAAS,WAAW,SAAS,QAAQ;AAC1D,WAAK,OAAO;AAAA,IACb;AAAA,EACD;AAAA,EACA,IAAI,WAA4B;AAC/B,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,SAAS,OAAwB;AACpC,SAAK,YAAY;AACjB,SAAK,OAAO;AAAA,EACb;AAAA,EACA,IAAI,WAAmB;AACtB,WAAO,KAAK,aAAa,OAAO,KAAK;AAAA,EACtC;AAAA,EACA,IAAI,aAAgC;AACnC,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,WAAW,OAA0B;AACxC,SAAK,cAAc;AAAA,EACpB;AAAA,EACA,IAAI,OAAe;AAClB,WAAO,KAAK,aAAa,MAAM,KAAK;AAAA,EACrC;AAAA,EACA,IAAI,KAAK,OAAe;AACvB,QAAI,OAAO;AACV,WAAK,aAAa,QAAQ,KAAK;AAAA,IAChC,OACK;AACJ,WAAK,gBAAgB,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EACA,IAAI,MAAc;AACjB,WAAO,KAAK,aAAa,KAAK,KAAK;AAAA,EACpC;AAAA,EACA,IAAI,IAAI,OAAe;AACtB,QAAI,OAAO;AACV,WAAK,aAAa,OAAO,KAAK;AAAA,IAC/B,OACK;AACJ,WAAK,gBAAgB,KAAK;AAAA,IAC3B;AAAA,EACD;AAAA,EACA,IAAI,iBAA2B;AAC9B,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,eAAe,OAAiB;AACnC,SAAK,kBAAkB,MAAM,QAAQ,KAAK,IAAI,QAAQ,CAAC;AAAA,EACxD;AAAA,EACA,IAAI,gBAAmD;AACtD,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,cAAc,OAA0C;AAC3D,SAAK,iBAAiB;AAAA,EACvB;AAAA,EACA,IAAI,SAA0B;AAC7B,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,OAAO,OAAwB;AAClC,SAAK,UAAU,MAAM,QAAQ,KAAK,IAAI,QAAQ;AAC9C,SAAK,OAAO;AAAA,EACb;AAAA,EACA,IAAI,MAAuB;AAC1B,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,IAAI,OAAwB;AAC/B,SAAK,OAAO;AACZ,SAAK,OAAO;AAAA,EACb;AAAA,EACA,IAAI,OAAgB;AACnB,WAAO,KAAK;AAAA,EACb;AAAA,EACA,IAAI,KAAK,OAAgB;AACxB,SAAK,QAAQ;AACb,SAAK,eAAe;AAAA,EACrB;AAAA,EACQ,SAAe;AACtB,QAAI,CAAC,KAAK;AAAa;AACvB,UAAM,MAAM,KAAK,WAAW;AAC5B,QAAI,CAAC;AAAK;AACV,SAAK,KAAK,KAAK,GAAG;AAAA,EACnB;AAAA,EACA,MAAc,KAAK,KAA4B;AAC9C,UAAM,QAAQ,EAAE,KAAK;AACrB,UAAM,OAAO,MAAM,KAAK,gBAAgB,KAAK,UAAU;AACvD,QAAI,CAAC,KAAK;AAAI;AACd,UAAM,OAAO,IAAI,YAAY,EAAE,OAAO,KAAK,IAAI;AAC/C,UAAM,WAAW,cAAc,EAAE,KAAK,KAAK,MAAM,QAAQ,KAAK,QAAQ,CAAC;AACvE,UAAM,kBAAkB,yBAAyB,KAAK,KAAK;AAC3D,UAAM,YAAY;AAAA,MACjB;AAAA,QACC;AAAA,QACA,SAAS;AAAA,QACT;AAAA,QACA,WAAW,KAAK,YAAY;AAAA,QAC5B;AAAA,QACA,aAAa,CAAC,QAAQ,KAAK,gBAAgB,GAAG;AAAA,MAC/C;AAAA,IACD;AACA,QAAI,UAAU,KAAK;AAAY;AAC/B,QAAI,KAAK,SAAS;AACjB,WAAK,QAAQ,SAAS;AAAA,IACvB;AAAA,EACD;AAAA,EACQ,aAAqB;AAC5B,WAAO,KAAK,aAAa,KAAK,KAAK;AAAA,EACpC;AAAA,EACQ,cAAc,OAA2B;AAChD,QAAI,CAAC,KAAK,WAAW,MAAM,WAAW,KAAK,QAAQ;AAAe;AAClE,UAAM,OAAO,MAAM;AACnB,QAAI,CAAC;AAAM;AACX,QAAI,KAAK,SAAS,eAAe;AAChC,YAAM,MAAM,OAAO,KAAK,QAAQ,WAAW,KAAK,MAAM;AACtD,YAAM,OAAQ,KAAK,QAAyB;AAC5C,YAAM,KAAK,OAAO,KAAK,OAAO,WAAW,KAAK,KAAK;AACnD,UAAI,CAAC,OAAO,CAAC,IAAI;AAChB,gBAAQ,MAAM,yBAAyB,EAAE,KAAK,IAAI,KAAK,CAAC;AACxD;AAAA,MACD;AACA,YAAM,UAA0B;AAAA,QAC/B;AAAA,QACA;AAAA,QACA;AAAA,QACA,QAAQ,MAAM;AAAA,MACf;AACA,WAAK,KAAK,eAAe,OAAO;AAChC;AAAA,IACD;AACA,QAAI,KAAK,SAAS,iBAAiB;AAClC,YAAM,KAAK,OAAO,KAAK,OAAO,WAAW,KAAK,KAAK;AACnD,YAAM,SAAS,KAAK;AACpB,YAAM,SAAS,OAAO,KAAK,WAAW,WAAW,KAAK,SAAS;AAC/D,UAAI,CAAC,IAAI;AACR,gBAAQ,MAAM,2BAA2B,EAAE,GAAG,CAAC;AAC/C;AAAA,MACD;AACA,UAAI,WAAW,cAAc;AAC5B,gBAAQ,MAAM,iCAAiC,EAAE,OAAO,CAAC;AACzD,cAAM,UAAU;AAAA,UACf,MAAM;AAAA,UACN;AAAA,UACA,IAAI;AAAA,UACJ,OAAO,4BAA4B,MAAM;AAAA,QAC1C;AACA,aAAK,oBAAoB,MAAM,QAAQ,SAAS,CAAC,CAAC;AAClD;AAAA,MACD;AACA,YAAM,UAA2B,EAAE,IAAI,QAAQ,QAAQ,MAAM,OAAO;AACpE,WAAK,KAAK,gBAAgB,OAAO;AAAA,IAClC;AAAA,EACD;AAAA,EACA,MAAc,eAAe,SAAwC;AACpE,QAAI;AACJ,QAAI;AACH,iBAAW,MAAM,KAAK,gBAAgB,QAAQ,KAAK,QAAQ,IAAI;AAAA,IAChE,SACO,OAAO;AACb,iBAAW;AAAA,QACV,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,MAAM,IAAI,WAAW;AAAA,QACrB,OAAO,iBAAiB,QAAQ,MAAM,UAAU;AAAA,MACjD;AAAA,IACD;AACA,QAAI,CAAC,SAAS,IAAI;AACjB,cAAQ,MAAM,wBAAwB,EAAE,KAAK,QAAQ,KAAK,MAAM,QAAQ,MAAM,OAAO,SAAS,SAAS,gBAAgB,CAAC;AAAA,IACzH;AACA,UAAM,OAAO,SAAS,QAAQ,IAAI,WAAW;AAC7C,UAAM,SAAS,KAAK,OAAO,MAAM,KAAK,YAAY,KAAK,aAAa,KAAK,UAAU;AACnF,UAAM,UAAU;AAAA,MACf,MAAM;AAAA,MACN,IAAI,QAAQ;AAAA,MACZ,IAAI,SAAS;AAAA,MACb,MAAM,SAAS;AAAA,MACf,MAAM;AAAA,MACN,OAAO,SAAS;AAAA,IACjB;AACA,SAAK,oBAAoB,QAAQ,QAAQ,SAAS,CAAC,MAAM,CAAC;AAAA,EAC3D;AAAA,EACA,MAAc,gBAAgB,SAAyC;AACtE,QAAI;AACJ,UAAM,SAAS,KAAK;AACpB,QAAI,CAAC,QAAQ;AACZ,iBAAW,EAAE,IAAI,OAAO,OAAO,iBAAiB;AAAA,IACjD,OACK;AACJ,UAAI;AACH,cAAM,SAAS,MAAM,OAAO,QAAQ,MAAM;AAC1C,mBAAW,EAAE,IAAI,MAAM,OAAO;AAAA,MAC/B,SACO,OAAO;AACb,mBAAW,EAAE,IAAI,OAAO,OAAO,iBAAiB,QAAQ,MAAM,UAAU,mBAAmB;AAAA,MAC5F;AAAA,IACD;AACA,QAAI,CAAC,SAAS,IAAI;AACjB,cAAQ,MAAM,0BAA0B,EAAE,OAAO,SAAS,SAAS,gBAAgB,CAAC;AAAA,IACrF;AACA,UAAM,UAAU;AAAA,MACf,MAAM;AAAA,MACN,IAAI,QAAQ;AAAA,MACZ,IAAI,SAAS;AAAA,MACb,QAAQ,SAAS;AAAA,MACjB,OAAO,SAAS;AAAA,IACjB;AACA,SAAK,oBAAoB,QAAQ,QAAQ,SAAS,CAAC,CAAC;AAAA,EACrD;AAAA,EACA,MAAc,gBAAgB,KAAa,MAA4C;AACtF,QAAI,IAAI,WAAW,OAAO,GAAG;AAC5B,YAAM,WAAW,KAAK,kBAAkB;AACxC,UAAI,CAAC,UAAU;AACd,eAAO;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,MAAM,IAAI,WAAW;AAAA,UACrB,OAAO;AAAA,QACR;AAAA,MACD;AACA,YAAM,SAAS,MAAM,wBAAwB,MAAM,SAAS,GAAG,GAAG,MAAM,GAAG;AAC3E,aAAO;AAAA,IACR;AACA,QAAI,IAAI,WAAW,SAAS,KAAK,IAAI,WAAW,UAAU,GAAG;AAC5D,UAAI,CAAC,KAAK,gBAAgB,GAAG,GAAG;AAC/B,eAAO;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,MAAM,IAAI,WAAW;AAAA,UACrB,OAAO;AAAA,QACR;AAAA,MACD;AACA,UAAI;AACH,cAAM,MAAM,MAAM,MAAM,GAAG;AAC3B,cAAM,aAAa,MAAM,wBAAwB,KAAK,MAAM,GAAG;AAC/D,eAAO;AAAA,MACR,SACO,OAAO;AACb,eAAO;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,MAAM,IAAI,WAAW;AAAA,UACrB,OAAO,iBAAiB,QAAQ,MAAM,UAAU;AAAA,QACjD;AAAA,MACD;AAAA,IACD;AACA,WAAO;AAAA,MACN,IAAI;AAAA,MACJ,MAAM,UAAU,MAAM,GAAG;AAAA,MACzB,MAAM,IAAI,WAAW;AAAA,MACrB,OAAO;AAAA,IACR;AAAA,EACD;AAAA,EACQ,gBAAgB,KAAsB;AAC7C,QAAI,KAAK,gBAAgB;AACxB,aAAO,KAAK,eAAe,GAAG;AAAA,IAC/B;AACA,QAAI,CAAC,KAAK,gBAAgB;AAAQ,aAAO;AACzC,QAAI;AACH,YAAM,SAAS,IAAI,IAAI,GAAG;AAC1B,aAAO,KAAK,gBACV;AAAA,QACA,CAAC,WAAW;AACX,cAAI,OAAO,SAAS,KAAK,GAAG;AAC3B,mBAAO,OAAO,WAAW;AAAA,UAC1B;AACA,iBAAO,OAAO,aAAa;AAAA,QAC5B;AAAA,MACD;AAAA,IACF,QACM;AACL,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EACQ,oBAAoB,QAAmC,SAAkB,WAA2B,CAAC,GAAS;AACrH,QAAI,CAAC,QAAQ;AACZ,cAAQ,MAAM,gCAAgC,OAAO;AACrD;AAAA,IACD;AACA,UAAM,cAAe,OAAqC;AAC1D,QAAI,OAAO,gBAAgB,YAAY;AACtC,cAAQ,MAAM,gCAAgC,MAAM;AACpD;AAAA,IACD;AACA,QAAI;AACH,MAAC,OAAkB,YAAY,SAAS,KAAK,QAAQ;AACrD;AAAA,IACD,SACO,OAAO;AACb,UAAI;AACH,QAAC,OAAuB,YAAY,SAAS,QAAQ;AAAA,MACtD,SACO,eAAe;AACrB,gBAAQ,MAAM,4BAA4B,EAAE,OAAO,cAAc,CAAC;AAAA,MACnE;AAAA,IACD;AAAA,EACD;AAAA,EACQ,iBAAuB;AAC9B,QAAI,CAAC,KAAK,WAAW,CAAC,KAAK,QAAQ;AAAe;AAClD,SAAK,QAAQ,cAAc,YAAY,EAAE,MAAM,mBAAmB,SAAS,KAAK,MAAM,GAAG,GAAG;AAAA,EAC7F;AAAA,EACQ,oBAAqC;AAC5C,QAAI,KAAK;AAAW,aAAO,KAAK;AAChC,UAAM,OAAO,KAAK,QAAQ;AAC1B,WAAO,KAAK,qBAAqB,IAAI;AAAA,EACtC;AAAA,EACQ,qBAAqB,MAAwB;AACpD,UAAM,eAAe,eAAe,IAAI;AACxC,WAAO,OAAM,QAAQ;AACpB,YAAM,MAAM,iBAAiB,cAAc,GAAG;AAC9C,aAAO,MAAM,GAAG;AAAA,IACjB;AAAA,EACD;AACD;AACA,IAAM,eAAe;AACrB,SAAS,eAAe,MAAsB;AAC7C,MAAI,CAAC;AAAM,WAAO;AAClB,MAAI,OAAO,WAAW,eAAe,CAAC,OAAO;AAAU,WAAO;AAC9D,MAAI;AACH,WAAO,IAAI,IAAI,MAAM,OAAO,SAAS,IAAI,EAAE,SAAS;AAAA,EACrD,QACM;AACL,WAAO;AAAA,EACR;AACD;AACA,SAAS,iBAAiB,MAAc,KAAqB;AAC5D,QAAM,OAAO,cAAc,GAAG;AAC9B,MAAI,KAAK,SAAS,QAAQ,GAAG;AAC5B,WAAO,KAAK,MAAM,QAAQ,EAAE,KAAK,UAAU,IAAI,CAAC;AAAA,EACjD;AACA,MAAI,KAAK,SAAS,OAAO,GAAG;AAC3B,WAAO,KAAK,MAAM,OAAO,EAAE,KAAK,mBAAmB,GAAG,CAAC;AAAA,EACxD;AACA,MAAI,KAAK,SAAS,GAAG,GAAG;AACvB,WAAO,GAAG,IAAI,QAAQ,mBAAmB,GAAG,CAAC;AAAA,EAC9C;AACA,MAAI,KAAK,SAAS,GAAG,GAAG;AACvB,WAAO,GAAG,IAAI,GAAG,UAAU,IAAI,CAAC;AAAA,EACjC;AACA,SAAO,GAAG,IAAI,IAAI,UAAU,IAAI,CAAC;AAClC;AACA,SAAS,cAAc,KAAqB;AAC3C,MAAI,CAAC,IAAI,WAAW,OAAO;AAAG,WAAO;AACrC,SAAO,IAAI,MAAM,QAAQ,MAAM;AAChC;AACO,SAAS,gBAAsB;AACrC,MAAI,CAAC,eAAe,IAAI,UAAU,GAAG;AACpC,mBAAe,OAAO,YAAY,cAAc;AAAA,EACjD;AACD;;;ACnaA,IAAI,OAAO,WAAW,eAAe,oBAAoB,QAAQ;AAChE,gBAAc;AACf;",
  "names": []
}
